(()=>{"use strict";class e{constructor(e){this.name=e,this.taskList=[]}addTodo(e){this.taskList.push(e)}removeTodo(e){this.taskList.splice(e,1)}}class t{constructor(e,t,c,n){this.title=e,this.desc=t,this.dueDate=c,this.priority=n}}function c(){const e=document.querySelectorAll("input"),t=document.querySelector("textarea");e.forEach((e=>{"radio"!==e.type&&(e.value="")})),t.value=""}const n=[];let o=null;const r=()=>{const e=document.querySelector("ul");e.innerHTML="",n.forEach(((t,c)=>{const n=document.createElement("li"),s=document.createElement("button");s.classList.add("project-btn","button");const d=document.createElement("div");d.classList.add("icon-name");const l=document.createElement("i");l.classList.add("fa-solid","fa-list-ul");const i=document.createElement("i");i.classList.add("fa-solid","fa-trash-can"),i.dataset.index=c;const u=document.createElement("span");if(u.innerHTML=`${t.name}`,d.append(l,u),s.append(d,i),n.append(s),e.append(n),s.addEventListener("click",(()=>{a(t),r()})),o&&t.name===o.name){s.classList.add("current-project");const e=document.querySelector(".project-title");e.textContent=o.name,e.classList.add("underline")}})),document.querySelectorAll(".fa-trash-can").forEach((e=>{e.addEventListener("click",s)}))},s=e=>{const t=e.target.dataset.index;n.splice(t,1),o&&t===o.name&&(o=null,localStorage.removeItem("currentProject")),localStorage.setItem("projectArray",JSON.stringify(n));const c=document.querySelector(".project-title");c.textContent="",c.classList.remove("underline"),r()},a=e=>{o=e,localStorage.setItem("currentProject",JSON.stringify(o))};(()=>{document.querySelector(".add-task").addEventListener("click",(function(){e.classList.remove("hidden")})),document.querySelector(".remove-task").addEventListener("click",t);const e=document.querySelector(".task-popup");function t(){e.classList.add("hidden")}document.addEventListener("keydown",(e=>{"Escape"===e.key&&t()}))})(),(()=>{document.querySelector(".add-project").addEventListener("click",(function(){e.classList.remove("hidden")})),document.querySelector(".remove-project").addEventListener("click",t);const e=document.querySelector(".project-popup");function t(){e.classList.add("hidden")}document.addEventListener("keydown",(e=>{"Escape"===e.key&&t()}))})(),document.querySelector("#submit-project").addEventListener("click",(t=>{t.preventDefault();const s=document.querySelector("#name").value,a=new e(s);n.push(a),o=a,localStorage.setItem("projectArray",JSON.stringify(n)),document.querySelector(".project-popup").classList.add("hidden"),r(),c(),console.log(n)})),document.querySelector("#submit-task").addEventListener("click",(e=>{e.preventDefault();const r=document.querySelector("#title").value,s=document.querySelector("#description").value,a=document.querySelector("#date").value,d=document.querySelector('input[type="radio"]:checked').value;if(o){const e=new t(r,s,a,d);o.addTodo(e),console.log(o),localStorage.setItem("projectArray",JSON.stringify(n)),document.querySelector(".task-popup").classList.add("hidden"),c(),'input[type="radio"]',document.querySelectorAll('input[type="radio"]').forEach((e=>{e.checked=!1}))}else alert("Please select a project before adding a task.")}))})();
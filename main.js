(()=>{"use strict";class e{constructor(e){this.name=e,this.taskList=[]}addTodo(e){this.taskList.push(e)}removeTodo(e){this.taskList.splice(e,1)}}class t{constructor(e,t,c,o){this.title=e,this.desc=t,this.dueDate=c,this.priority=o}}function c(){const e=document.querySelectorAll("input"),t=document.querySelector("textarea");e.forEach((e=>{"radio"!==e.type&&(e.value="")})),t.value=""}const o=[];let n=null;const r=()=>{const e=document.querySelector("ul");e.innerHTML="",o.forEach(((t,c)=>{const o=document.createElement("li"),a=document.createElement("button");a.classList.add("project-btn","button");const d=document.createElement("div");d.classList.add("icon-name");const l=document.createElement("i");l.classList.add("fa-solid","fa-list-ul");const i=document.createElement("i");i.classList.add("fa-solid","fa-trash-can"),i.dataset.index=c;const u=document.createElement("span");u.innerHTML=`${t.name}`,d.append(l,u),a.append(d,i),o.append(a),e.append(o),a.addEventListener("click",(()=>{s(t),r()})),n&&t.name===n.name&&a.classList.add("current-project")})),document.querySelectorAll(".fa-trash-can").forEach((e=>{e.addEventListener("click",a)}))},a=e=>{const t=e.target.dataset.index;o.splice(t,1),n&&t===n.name&&(n=null,localStorage.removeItem("currentProject")),localStorage.setItem("projectArray",JSON.stringify(o)),r()},s=e=>{n=e,localStorage.setItem("currentProject",JSON.stringify(n))};(()=>{document.querySelector(".add-task").addEventListener("click",(function(){e.classList.remove("hidden")})),document.querySelector(".remove-task").addEventListener("click",t);const e=document.querySelector(".task-popup");function t(){e.classList.add("hidden")}document.addEventListener("keydown",(e=>{"Escape"===e.key&&t()}))})(),(()=>{document.querySelector(".add-project").addEventListener("click",(function(){e.classList.remove("hidden")})),document.querySelector(".remove-project").addEventListener("click",t);const e=document.querySelector(".project-popup");function t(){e.classList.add("hidden")}document.addEventListener("keydown",(e=>{"Escape"===e.key&&t()}))})(),document.querySelector("#submit-project").addEventListener("click",(t=>{t.preventDefault();const a=document.querySelector("#name").value,s=new e(a);o.push(s),n=s,console.log(s),localStorage.setItem("projectArray",JSON.stringify(o)),document.querySelector(".project-popup").classList.add("hidden"),r(),c(),console.log(o)})),document.querySelector("#submit-task").addEventListener("click",(e=>{e.preventDefault();const r=document.querySelector("#title").value,a=document.querySelector("#description").value,s=document.querySelector("#date").value,d=document.querySelector('input[type="radio"]:checked').value;if(n){const e=new t(r,a,s,d);n.addTodo(e),console.log(n),localStorage.setItem("projectArray",JSON.stringify(o)),document.querySelector(".task-popup").classList.add("hidden"),c(),'input[type="radio"]',document.querySelectorAll('input[type="radio"]').forEach((e=>{e.checked=!1}))}else alert("Please select a project before adding a task.")}))})();